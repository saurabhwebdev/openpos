<UserControl x:Class="MyWinFormsApp.Views.ProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="40,32,40,40">

            <!-- Page Title -->
            <TextBlock Text="Profile"
                       Style="{StaticResource MaterialDesignHeadline4TextBlock}"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Manage your account and shops"
                       Style="{StaticResource MaterialDesignBody1TextBlock}"
                       Opacity="0.5" Margin="0,0,0,32"/>

            <!-- User Info Card -->
            <materialDesign:Card Padding="24" UniformCornerRadius="12" Margin="0,0,0,16">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                        <Border Width="48" Height="48" CornerRadius="24"
                                Background="{DynamicResource PrimaryHueMidBrush}" Margin="0,0,16,0">
                            <materialDesign:PackIcon Kind="AccountCircle" Width="28" Height="28"
                                                      HorizontalAlignment="Center" VerticalAlignment="Center"
                                                      Foreground="White"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock x:Name="TxtDisplayName" FontSize="18" FontWeight="Medium"/>
                            <TextBlock x:Name="TxtDisplayEmail" FontSize="13" Opacity="0.5"/>
                        </StackPanel>
                    </StackPanel>

                    <TextBox x:Name="TxtFullName"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             materialDesign:HintAssist.Hint="Full Name"
                             FontSize="14" Margin="0,0,0,12"/>

                    <TextBox x:Name="TxtEmail"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             materialDesign:HintAssist.Hint="Email"
                             FontSize="14" IsReadOnly="True" Opacity="0.6"
                             Margin="0,0,0,12"/>

                    <TextBlock Text="Change Password (leave blank to keep current)"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"
                               Opacity="0.5" Margin="0,0,0,8"/>

                    <PasswordBox x:Name="TxtNewPassword"
                                 Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                                 materialDesign:HintAssist.Hint="New Password"
                                 FontSize="14" Margin="0,0,0,12"/>

                    <PasswordBox x:Name="TxtConfirmPassword"
                                 Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                                 materialDesign:HintAssist.Hint="Confirm New Password"
                                 FontSize="14" Margin="0,0,0,16"/>

                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="BtnSaveProfile"
                                Style="{StaticResource MaterialDesignRaisedButton}"
                                Click="BtnSaveProfile_Click" Margin="0,0,12,0">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ContentSave"
                                                          VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="SAVE CHANGES" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <ProgressBar x:Name="ProgressSave"
                                     Style="{StaticResource MaterialDesignCircularProgressBar}"
                                     IsIndeterminate="True" Visibility="Collapsed"
                                     VerticalAlignment="Center" Width="24" Height="24"/>
                    </StackPanel>

                    <TextBlock x:Name="TxtProfileMessage" FontSize="12"
                               TextWrapping="Wrap" Margin="0,12,0,0"
                               Visibility="Collapsed"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- My Shops Card -->
            <materialDesign:Card Padding="24" UniformCornerRadius="12" Margin="0,0,0,16">
                <StackPanel>
                    <DockPanel Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                            <materialDesign:PackIcon Kind="StorefrontOutline" Width="20" Height="20"
                                                      VerticalAlignment="Center" Margin="0,0,10,0" Opacity="0.7"/>
                            <TextBlock Text="My Shops"
                                       Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                                HorizontalAlignment="Right" Click="BtnAddShop_Click">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Plus" VerticalAlignment="Center" Margin="0,0,4,0"/>
                                <TextBlock Text="Add Shop" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </DockPanel>

                    <ItemsControl x:Name="ShopsList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="{DynamicResource MaterialDesignDivider}"
                                        BorderThickness="0,0,0,1" Padding="8,12">
                                    <DockPanel>
                                        <materialDesign:PackIcon Kind="StorefrontOutline" Width="22" Height="22"
                                                                  VerticalAlignment="Center" Margin="0,0,12,0"
                                                                  Opacity="0.6" DockPanel.Dock="Left"/>
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="{Binding TenantName}" FontSize="14" FontWeight="Medium"/>
                                            <TextBlock Text="{Binding RoleName}" FontSize="12" Opacity="0.5"/>
                                        </StackPanel>
                                        <TextBlock Text="{Binding CreatedAt, StringFormat='Joined {0:MMM dd, yyyy}'}"
                                                   FontSize="11" Opacity="0.4"
                                                   VerticalAlignment="Center" HorizontalAlignment="Right"
                                                   DockPanel.Dock="Right"/>
                                    </DockPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <TextBlock x:Name="TxtShopMessage" FontSize="12"
                               TextWrapping="Wrap" Margin="0,12,0,0"
                               Visibility="Collapsed"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- Account Info Card -->
            <materialDesign:Card Padding="24" UniformCornerRadius="12">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <materialDesign:PackIcon Kind="InformationOutline" Width="20" Height="20"
                                                  VerticalAlignment="Center" Margin="0,0,10,0" Opacity="0.7"/>
                        <TextBlock Text="Account Info"
                                   Style="{StaticResource MaterialDesignSubtitle1TextBlock}"/>
                    </StackPanel>
                    <TextBlock x:Name="TxtAccountInfo"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"
                               Opacity="0.6" LineHeight="22"/>
                </StackPanel>
            </materialDesign:Card>
        </StackPanel>
    </ScrollViewer>
</UserControl>
