<UserControl x:Class="MyWinFormsApp.Views.SettingsEmailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="40,24,40,24">
        <StackPanel>

            <!-- Provider Selection -->
            <Border CornerRadius="12" Padding="24,20"
                    Background="{DynamicResource MaterialDesign.Brush.Card}" Margin="0,0,0,16">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" Opacity="0.05" ShadowDepth="2" Direction="270"/>
                </Border.Effect>
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                        <materialDesign:PackIcon Kind="EmailOutline" Width="22" Height="22"
                                                  VerticalAlignment="Center" Margin="0,0,10,0"
                                                  Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                        <TextBlock Text="Email Provider" FontSize="16" FontWeight="SemiBold"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <TextBlock Text="Select a provider to auto-fill SMTP settings, or choose Custom SMTP."
                               FontSize="12" Opacity="0.5" Margin="0,0,0,14"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="BtnGmail" Grid.Column="0" Height="60"
                                materialDesign:ButtonAssist.CornerRadius="10"
                                Click="BtnProvider_Click" Tag="Gmail"
                                HorizontalContentAlignment="Center">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                    <Setter Property="BorderBrush" Value="{DynamicResource MaterialDesignDivider}"/>
                                </Style>
                            </Button.Style>
                            <StackPanel HorizontalAlignment="Center">
                                <materialDesign:PackIcon Kind="Google" Width="22" Height="22"
                                                          HorizontalAlignment="Center" Margin="0,0,0,4"/>
                                <TextBlock Text="Gmail" FontSize="11" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnOutlook" Grid.Column="2" Height="60"
                                materialDesign:ButtonAssist.CornerRadius="10"
                                Click="BtnProvider_Click" Tag="Outlook"
                                HorizontalContentAlignment="Center">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                    <Setter Property="BorderBrush" Value="{DynamicResource MaterialDesignDivider}"/>
                                </Style>
                            </Button.Style>
                            <StackPanel HorizontalAlignment="Center">
                                <materialDesign:PackIcon Kind="MicrosoftOutlook" Width="22" Height="22"
                                                          HorizontalAlignment="Center" Margin="0,0,0,4"/>
                                <TextBlock Text="Outlook" FontSize="11" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnYahoo" Grid.Column="4" Height="60"
                                materialDesign:ButtonAssist.CornerRadius="10"
                                Click="BtnProvider_Click" Tag="Yahoo"
                                HorizontalContentAlignment="Center">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                    <Setter Property="BorderBrush" Value="{DynamicResource MaterialDesignDivider}"/>
                                </Style>
                            </Button.Style>
                            <StackPanel HorizontalAlignment="Center">
                                <materialDesign:PackIcon Kind="Yahoo" Width="22" Height="22"
                                                          HorizontalAlignment="Center" Margin="0,0,0,4"/>
                                <TextBlock Text="Yahoo" FontSize="11" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnCustom" Grid.Column="6" Height="60"
                                materialDesign:ButtonAssist.CornerRadius="10"
                                Click="BtnProvider_Click" Tag="Custom"
                                HorizontalContentAlignment="Center">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                    <Setter Property="BorderBrush" Value="{DynamicResource MaterialDesignDivider}"/>
                                </Style>
                            </Button.Style>
                            <StackPanel HorizontalAlignment="Center">
                                <materialDesign:PackIcon Kind="ServerNetwork" Width="22" Height="22"
                                                          HorizontalAlignment="Center" Margin="0,0,0,4"/>
                                <TextBlock Text="Custom" FontSize="11" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <TextBlock x:Name="TxtSelectedProvider" Text="No provider selected"
                               FontSize="12" Opacity="0.4" Margin="0,12,0,0"
                               HorizontalAlignment="Center" FontStyle="Italic"/>
                </StackPanel>
            </Border>

            <!-- SMTP Configuration -->
            <Border CornerRadius="12" Padding="24,20"
                    Background="{DynamicResource MaterialDesign.Brush.Card}" Margin="0,0,0,16">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" Opacity="0.05" ShadowDepth="2" Direction="270"/>
                </Border.Effect>
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                        <materialDesign:PackIcon Kind="ServerNetwork" Width="22" Height="22"
                                                  VerticalAlignment="Center" Margin="0,0,10,0"
                                                  Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                        <TextBlock Text="SMTP Configuration" FontSize="16" FontWeight="SemiBold"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <Grid Margin="0,0,0,14">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="120"/>
                        </Grid.ColumnDefinitions>

                        <TextBox x:Name="TxtSmtpHost" Grid.Column="0"
                                 materialDesign:HintAssist.Hint="SMTP Host"
                                 materialDesign:HintAssist.IsFloating="True"
                                 Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                 FontSize="13"/>

                        <TextBox x:Name="TxtSmtpPort" Grid.Column="2"
                                 materialDesign:HintAssist.Hint="Port"
                                 materialDesign:HintAssist.IsFloating="True"
                                 Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                 FontSize="13" Text="587"/>
                    </Grid>

                    <CheckBox x:Name="ChkUseSsl" Content="Use SSL/TLS" IsChecked="True"
                              FontSize="13" Margin="0,0,0,4"/>
                </StackPanel>
            </Border>

            <!-- Sender Details -->
            <Border CornerRadius="12" Padding="24,20"
                    Background="{DynamicResource MaterialDesign.Brush.Card}" Margin="0,0,0,16">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" Opacity="0.05" ShadowDepth="2" Direction="270"/>
                </Border.Effect>
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                        <materialDesign:PackIcon Kind="AccountCircleOutline" Width="22" Height="22"
                                                  VerticalAlignment="Center" Margin="0,0,10,0"
                                                  Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                        <TextBlock Text="Sender Details" FontSize="16" FontWeight="SemiBold"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <TextBox x:Name="TxtSenderName" Margin="0,0,0,14"
                             materialDesign:HintAssist.Hint="Sender Name (e.g. Curadent Dental)"
                             materialDesign:HintAssist.IsFloating="True"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             FontSize="13"/>

                    <TextBox x:Name="TxtSenderEmail" Margin="0,0,0,14"
                             materialDesign:HintAssist.Hint="Email Address"
                             materialDesign:HintAssist.IsFloating="True"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             FontSize="13"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <PasswordBox x:Name="TxtPassword" Grid.Column="0"
                                     materialDesign:HintAssist.Hint="App Password / SMTP Password"
                                     materialDesign:HintAssist.IsFloating="True"
                                     Style="{StaticResource MaterialDesignOutlinedRevealPasswordBox}"
                                     FontSize="13"/>
                    </Grid>

                    <Border CornerRadius="8" Background="#FFF8E1" Padding="12,10" Margin="0,14,0,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="InformationOutline" Width="16" Height="16"
                                                      Foreground="#F57F17" VerticalAlignment="Top"
                                                      Margin="0,2,8,0"/>
                            <TextBlock TextWrapping="Wrap" FontSize="11.5" Foreground="#5D4037">
                                <Run FontWeight="SemiBold">For Gmail:</Run>
                                <Run Text="Use an App Password instead of your regular password. Go to"/>
                                <Run FontWeight="SemiBold" Text="Google Account > Security > 2-Step Verification > App Passwords"/>
                                <Run Text="to generate one."/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- Active toggle + Actions -->
            <Border CornerRadius="12" Padding="24,20"
                    Background="{DynamicResource MaterialDesign.Brush.Card}" Margin="0,0,0,16">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" Opacity="0.05" ShadowDepth="2" Direction="270"/>
                </Border.Effect>
                <StackPanel>
                    <DockPanel Margin="0,0,0,16">
                        <StackPanel DockPanel.Dock="Left" VerticalAlignment="Center">
                            <TextBlock Text="Enable Email Service" FontSize="14" FontWeight="Medium"/>
                            <TextBlock Text="Activate email sending for invoices and notifications"
                                       FontSize="11.5" Opacity="0.5" Margin="0,2,0,0"/>
                        </StackPanel>
                        <ToggleButton x:Name="ChkIsActive" DockPanel.Dock="Right"
                                      HorizontalAlignment="Right" IsChecked="True"
                                      Style="{StaticResource MaterialDesignSwitchToggleButton}"/>
                    </DockPanel>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="8"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="BtnTestEmail" Grid.Column="0" Height="42"
                                materialDesign:ButtonAssist.CornerRadius="8"
                                Click="BtnTestEmail_Click"
                                Style="{StaticResource MaterialDesignOutlinedButton}"
                                FontSize="13">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="EmailSendOutline" Width="18" Height="18"
                                                          VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Send Test Email" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnSave" Grid.Column="2" Height="42"
                                materialDesign:ButtonAssist.CornerRadius="8"
                                Click="BtnSave_Click"
                                FontSize="13">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
                                    <Setter Property="Background" Value="#10B981"/>
                                    <Setter Property="Foreground" Value="White"/>
                                    <Setter Property="BorderBrush" Value="#10B981"/>
                                </Style>
                            </Button.Style>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ContentSave" Width="18" Height="18"
                                                          VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Save Settings" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <ProgressBar x:Name="ProgressBar"
                                 Style="{StaticResource MaterialDesignCircularProgressBar}"
                                 IsIndeterminate="True" Visibility="Collapsed"
                                 HorizontalAlignment="Center" Width="28" Height="28" Margin="0,12,0,0"/>

                    <TextBlock x:Name="TxtStatus" FontSize="12" Margin="0,10,0,0"
                               HorizontalAlignment="Center" TextWrapping="Wrap"
                               Visibility="Collapsed"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
